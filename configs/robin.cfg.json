{
    "app": {
        "port": 8008,
        "db": {
            "type": "mssql",
            "name": "hs0"
        },
        "round": "2",
        "cache": "redis",
        "date_formats": [
            "2006-01-02 15:04:05",
            "2006-01-02T15:04:05Z",
            "2006-01-02T15:04:05",
            "2006-01-02T15:04",
            "02.01.2006 15:04:05",
            "02.01.2006 15:04",
            "02.01.2006T15:04:05Z",
            "02.01.2006T15:04:05",
            "02.01.2006T15:04",
            "2006-01-02T15:04:05-07:00",
            "2006-01-02T15:04:05.0-07:00",
            "2006-01-02T15:04:05.00-07:00",
            "2006-01-02T15:04:05.000-07:00"
        ]
    },
    "db": {
        "hs0": {
            "host": "139.158.31.1",
            "port": "1433",
            "user": "sa",
            "password": "!QAZ1qaz12345",
            "database": "Runtime",
            "timeout": 30,
            "connection_string": "server={host};port={port};user id={user};password={password};database={database};TrustServerCertificate=true;encrypt=disable;connection timeout={timeout};",
            "query": {
                "get_tag_date": "set quoted_identifier off select * from openquery(INSQL,\"select h.Value from history h where h.TagName  ='{tag}' and h.[DateTime] = '{date}'\")",
                "get_tag_from_to": "set quoted_identifier off select * from openquery(INSQL,\"select h.[DateTime], h.Value from history h where h.TagName  ='{tag}' and h.[DateTime] >= '{from}' and h.[DateTime] < '{to}' and wwRetrievalMode = 'Cyclic' and wwResolution = 1000\")",
                "get_tag_from_to_group": "set quoted_identifier off select * from openquery(INSQL,\"select {group}(h.Value) value from history h where h.TagName  ='{tag}' and h.[DateTime] >= '{from}' and h.[DateTime] < '{to}' and wwRetrievalMode = 'Cyclic' and wwResolution = 1000 group by h.TagName\")",
                "get_tag_from_to_dif": "set quoted_identifier off select (ht.value-hf.value) value from openquery(INSQL,\"select TagName, Value from history where TagName ='{tag}' and [DateTime] = '{from}'\") hf join openquery(INSQL,\"select TagName, Value from history where TagName ='{tag}' and [DateTime] = '{to}'\") ht on hf.TagName = ht.TagName",
                "get_tag_from_to_count": "set quoted_identifier off select count(h.Value)/60.0 value from openquery(INSQL,\"select h.Value from history h where h.TagName  ='{tag}' and h.[DateTime] >= '{from}' and h.[DateTime] < '{to}' and wwRetrievalMode = 'Cyclic' and wwResolution = 1000\")",
                "get_tag_list": "select TagName from Tag where TagName like '{tag}' order by TagName",
                "get_tag_count": "select '{from}', avg(h.Value) value from history h where h.TagName ='{tag}' AND h.[DateTime] >= '{from}' AND h.[DateTime] < '{to}' group by h.TagName",
                "get_tag_count2": "select '{from}', avg(h.Value) value from history h where h.TagName ='{tag}' AND h.[DateTime] >= '{from}' AND h.[DateTime] < '{to}' group by h.TagName"
            }
        },
        "appSrv01": {
            "host": "172.26.207.211",
            "port": "3306",
            "user": "nav",
            "password": "navnav123",
            "database": "runtime",
            "timeout": 30,
            "connection_string": "{user}:{password}@tcp({host}:{port})/{database}?charset=utf8&parseTime=True&loc=Local",
            "query": {
                "get_tag_date": "select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{date}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{date}' order by h.DataTime limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{date}' order by h.DataTime limit 1 ) tt on ft.TagName = tt.TagName",
                "get_tag_from_to": "select h.DataTime, h.Value from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}'",
                "get_tag_from_to_group": "select {group}(h.Value) from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}' group by h.TagName",
                "get_tag_from_to_dif": "select (ht.t-hf.t) value from (select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{from}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{from}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{from}' limit 1 ) tt on ft.TagName = tt.TagName) hf, (select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{to}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{to}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{to}' limit 1 ) tt on ft.TagName = tt.TagName) ht",
                "get_tag_from_to_count": "select count(h.v) value from historian h where h.t ='{tag}' AND h.d >= '{from}' AND h.d < '{to}'",
                "get_tag_list": "select t.tagname from tagname t where t.tagname like '{tag}' order by t.tagname",
                "get_tag_count": "select '{from}' date, avg(h.Value) value from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}' group by h.TagName",
                "get_tag_count2": "select '{date}' date, case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{date}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{date}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{date}' limit 1 ) tt on ft.TagName = tt.TagName"
            }
        },
        "mysql_local": {
            "host": "localhost",
            "port": "3306",
            "user": "root",
            "password": "iamyourroot",
            "database": "runtime",
            "timeout": 30,
            "connection_string": "{user}:{password}@tcp({host}:{port})/{database}?charset=utf8&parseTime=True&loc=Local",
            "query": {
                "get_tag_date": "select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec(timediff(timediff(tt.DataTime, ft.DataTime),timediff(tt.DataTime,'{date}')))/time_to_sec(timediff(tt.DataTime,ft.DataTime))*(tt.Value-ft.Value)+ft.Value else ft.Value end as t from (select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{date}' order by h.DataTime desc limit 1) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{date}' order by h.DataTime asc limit 1) tt on ft.TagName = tt.TagName",
                "get_tag_from_to": "select h.DataTime, h.Value from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}'",
                "get_tag_from_to_group": "select {group}(h.Value) from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}' group by h.TagName",
                "get_tag_from_to_dif": "select (ht.t-hf.t) value from (select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{from}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{from}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{from}' limit 1 ) tt on ft.TagName = tt.TagName) hf, (select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{to}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{to}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{to}' limit 1 ) tt on ft.TagName = tt.TagName) ht",
                "get_tag_from_to_count": "select count(h.v) value from historian h where h.t ='{tag}' AND h.d >= '{from}' AND h.d < '{to}'",
                "get_tag_list": "select t.tagname from tagname t where t.tagname like '{tag}' order by t.tagname",
                "get_tag_count": "select '{from}' date, avg(h.Value) value from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}' group by h.TagName",
                "get_tag_count2": "select '{date}' date, case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{date}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{date}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{date}' limit 1 ) tt on ft.TagName = tt.TagName"
            }
        },
        "mysql_docker": {
            "host": "host.docker.internal",
            "port": "3306",
            "user": "root",
            "password": "iamyourroot",
            "database": "runtime",
            "timeout": 30,
            "connection_string": "{user}:{password}@tcp({host}:{port})/{database}?charset=utf8&parseTime=True",
            "query": {
                "get_tag_date": "select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec(timediff(timediff(tt.DataTime, ft.DataTime),timediff(tt.DataTime,'{date}')))/time_to_sec(timediff(tt.DataTime,ft.DataTime))*(tt.Value-ft.Value)+ft.Value else ft.Value end as t from (select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{date}' order by h.DataTime desc limit 1) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{date}' order by h.DataTime asc limit 1) tt on ft.TagName = tt.TagName",
                "get_tag_from_to": "select h.DataTime, h.Value from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}'",
                "get_tag_from_to_group": "select {group}(h.Value) from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}' group by h.TagName",
                "get_tag_from_to_dif": "select (ht.t-hf.t) value from (select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{from}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{from}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{from}' limit 1 ) tt on ft.TagName = tt.TagName) hf, (select case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{to}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{to}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{to}' limit 1 ) tt on ft.TagName = tt.TagName) ht",
                "get_tag_from_to_count": "select count(h.v) value from historian h where h.t ='{tag}' AND h.d >= '{from}' AND h.d < '{to}'",
                "get_tag_list": "select t.tagname from tagname t where t.tagname like '{tag}' order by t.tagname",
                "get_tag_count": "select '{from}' date, avg(h.Value) value from history h where h.TagName ='{tag}' AND h.DataTime >= '{from}' AND h.DataTime < '{to}' group by h.TagName",
                "get_tag_count2": "select '{date}' date, case when time_to_sec(timediff(tt.DataTime, ft.DataTime)) <> 0 then time_to_sec( timediff( timediff(tt.DataTime, ft.DataTime), timediff(tt.DataTime, '{date}') ) ) / time_to_sec(timediff(tt.DataTime, ft.DataTime)) *(tt.Value - ft.Value) + ft.Value else ft.Value end as t from ( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime <= '{date}' limit 1 ) ft join( select h.Value, h.TagName, h.DataTime from history h where h.TagName = '{tag}' and h.DataTime >= '{date}' limit 1 ) tt on ft.TagName = tt.TagName"
            }
        },
        "redis": {
            "active": "false",
            "host": "localhost",
            "port": "6379",
            "password": "",
            "db": 0,
            "max_open_conns": 100,
            "max_idle_conns": 10,
            "conn_max_lifetime": 60,
            "connection_string": "redis://{host}:{port}/{db}"
        }
    }
}